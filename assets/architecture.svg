<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 320">
  <defs>
    <!-- Gradients -->
    <linearGradient id="matomoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3152A0"/>
      <stop offset="100%" style="stop-color:#35BFC0"/>
    </linearGradient>
    <linearGradient id="claudeGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#D97757"/>
      <stop offset="100%" style="stop-color:#E8956A"/>
    </linearGradient>
    <linearGradient id="serverGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#6366F1"/>
      <stop offset="100%" style="stop-color:#8B5CF6"/>
    </linearGradient>
    <linearGradient id="jsonGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F59E0B"/>
      <stop offset="100%" style="stop-color:#FBBF24"/>
    </linearGradient>

    <!-- Glow filter -->
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#94A3B8"/>
    </marker>

    <!-- Animated dot -->
    <circle id="dot" r="4" fill="#10B981">
      <animate attributeName="opacity" values="1;0.3;1" dur="1s" repeatCount="indefinite"/>
    </circle>
  </defs>

  <!-- Background -->
  <rect width="900" height="320" fill="#0F172A" rx="12"/>

  <!-- Grid pattern -->
  <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#1E293B" stroke-width="0.5"/>
  </pattern>
  <rect width="900" height="320" fill="url(#grid)" rx="12"/>

  <!-- === MATOMO BOX === -->
  <g transform="translate(50, 100)">
    <rect width="140" height="120" rx="12" fill="url(#matomoGrad)" filter="url(#glow)">
      <animate attributeName="opacity" values="0.9;1;0.9" dur="3s" repeatCount="indefinite"/>
    </rect>
    <!-- Matomo icon (chart) -->
    <g transform="translate(45, 25)">
      <rect x="0" y="30" width="12" height="20" rx="2" fill="white" opacity="0.9">
        <animate attributeName="height" values="20;30;20" dur="2s" repeatCount="indefinite"/>
        <animate attributeName="y" values="30;20;30" dur="2s" repeatCount="indefinite"/>
      </rect>
      <rect x="18" y="15" width="12" height="35" rx="2" fill="white" opacity="0.9">
        <animate attributeName="height" values="35;25;35" dur="2.5s" repeatCount="indefinite"/>
        <animate attributeName="y" values="15;25;15" dur="2.5s" repeatCount="indefinite"/>
      </rect>
      <rect x="36" y="5" width="12" height="45" rx="2" fill="white" opacity="0.9">
        <animate attributeName="height" values="45;35;45" dur="1.8s" repeatCount="indefinite"/>
        <animate attributeName="y" values="5;15;5" dur="1.8s" repeatCount="indefinite"/>
      </rect>
    </g>
    <text x="70" y="95" text-anchor="middle" fill="white" font-family="system-ui, sans-serif" font-size="14" font-weight="600">Matomo</text>
    <text x="70" y="110" text-anchor="middle" fill="white" font-family="system-ui, sans-serif" font-size="10" opacity="0.8">Analytics</text>
  </g>

  <!-- === OPENAPI-GEN BOX === -->
  <g transform="translate(260, 40)">
    <rect width="120" height="80" rx="10" fill="#1E293B" stroke="#475569" stroke-width="2" stroke-dasharray="5,3">
      <animate attributeName="stroke-dashoffset" values="0;-16" dur="1s" repeatCount="indefinite"/>
    </rect>
    <text x="60" y="35" text-anchor="middle" fill="#94A3B8" font-family="monospace" font-size="11">openapi-gen</text>
    <!-- Gear icon -->
    <g transform="translate(42, 45)">
      <circle cx="18" cy="15" r="8" fill="none" stroke="#64748B" stroke-width="2">
        <animateTransform attributeName="transform" type="rotate" from="0 18 15" to="360 18 15" dur="4s" repeatCount="indefinite"/>
      </circle>
      <circle cx="18" cy="15" r="4" fill="#64748B"/>
    </g>
  </g>

  <!-- === JSON FILE BOX === -->
  <g transform="translate(260, 180)">
    <rect width="120" height="80" rx="10" fill="url(#jsonGrad)" filter="url(#glow)">
      <animate attributeName="opacity" values="0.85;1;0.85" dur="2.5s" repeatCount="indefinite"/>
    </rect>
    <!-- JSON brackets -->
    <text x="60" y="40" text-anchor="middle" fill="white" font-family="monospace" font-size="24" font-weight="bold">{ }</text>
    <text x="60" y="60" text-anchor="middle" fill="white" font-family="system-ui, sans-serif" font-size="11" font-weight="600">OpenAPI</text>
    <text x="60" y="72" text-anchor="middle" fill="white" font-family="monospace" font-size="9" opacity="0.9">.json</text>
  </g>

  <!-- === MCP SERVER BOX === -->
  <g transform="translate(480, 100)">
    <rect width="160" height="120" rx="12" fill="url(#serverGrad)" filter="url(#glow)">
      <animate attributeName="opacity" values="0.9;1;0.9" dur="2.8s" repeatCount="indefinite"/>
    </rect>
    <!-- Server icon -->
    <g transform="translate(55, 20)">
      <rect x="0" y="0" width="50" height="15" rx="3" fill="white" opacity="0.9"/>
      <circle cx="8" cy="7.5" r="3" fill="#22C55E">
        <animate attributeName="opacity" values="1;0.4;1" dur="1.5s" repeatCount="indefinite"/>
      </circle>
      <rect x="20" y="5" width="25" height="5" rx="1" fill="#6366F1"/>

      <rect x="0" y="20" width="50" height="15" rx="3" fill="white" opacity="0.9"/>
      <circle cx="8" cy="27.5" r="3" fill="#22C55E">
        <animate attributeName="opacity" values="1;0.4;1" dur="1.2s" repeatCount="indefinite" begin="0.3s"/>
      </circle>
      <rect x="20" y="25" width="20" height="5" rx="1" fill="#6366F1"/>

      <rect x="0" y="40" width="50" height="15" rx="3" fill="white" opacity="0.9"/>
      <circle cx="8" cy="47.5" r="3" fill="#22C55E">
        <animate attributeName="opacity" values="1;0.4;1" dur="1.8s" repeatCount="indefinite" begin="0.6s"/>
      </circle>
      <rect x="20" y="45" width="22" height="5" rx="1" fill="#6366F1"/>
    </g>
    <text x="80" y="95" text-anchor="middle" fill="white" font-family="system-ui, sans-serif" font-size="14" font-weight="600">mcp-matomo</text>
    <text x="80" y="110" text-anchor="middle" fill="white" font-family="system-ui, sans-serif" font-size="10" opacity="0.8">MCP Server</text>
  </g>

  <!-- === CLAUDE BOX === -->
  <g transform="translate(710, 100)">
    <rect width="140" height="120" rx="12" fill="url(#claudeGrad)" filter="url(#glow)">
      <animate attributeName="opacity" values="0.9;1;0.9" dur="2.2s" repeatCount="indefinite"/>
    </rect>
    <!-- Claude sparkle icon -->
    <g transform="translate(50, 25)">
      <path d="M20 0 L23 15 L38 18 L23 21 L20 36 L17 21 L2 18 L17 15 Z" fill="white" opacity="0.95">
        <animateTransform attributeName="transform" type="rotate" from="0 20 18" to="360 20 18" dur="8s" repeatCount="indefinite"/>
        <animate attributeName="opacity" values="0.95;0.6;0.95" dur="2s" repeatCount="indefinite"/>
      </path>
    </g>
    <text x="70" y="95" text-anchor="middle" fill="white" font-family="system-ui, sans-serif" font-size="14" font-weight="600">Claude</text>
    <text x="70" y="110" text-anchor="middle" fill="white" font-family="system-ui, sans-serif" font-size="10" opacity="0.8">AI Assistant</text>
  </g>

  <!-- === ARROWS === -->

  <!-- Matomo to openapi-gen (dashed, one-time) -->
  <path d="M190 140 Q225 80 255 80" fill="none" stroke="#475569" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#arrowhead)"/>

  <!-- openapi-gen to JSON -->
  <line x1="320" y1="125" x2="320" y2="175" stroke="#475569" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#arrowhead)"/>

  <!-- JSON to MCP Server -->
  <line x1="385" y1="220" x2="475" y2="180" stroke="#94A3B8" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="420" y="188" fill="#64748B" font-family="monospace" font-size="9">reads</text>

  <!-- MCP Server to Matomo (HTTP) -->
  <g>
    <path d="M480 180 Q400 260 195 200" fill="none" stroke="#35BFC0" stroke-width="2" marker-end="url(#arrowhead)"/>
    <!-- Animated data packet -->
    <circle r="5" fill="#35BFC0">
      <animateMotion dur="2s" repeatCount="indefinite">
        <mpath href="#httpPath"/>
      </animateMotion>
      <animate attributeName="opacity" values="1;0.5;1" dur="0.5s" repeatCount="indefinite"/>
    </circle>
    <path id="httpPath" d="M480 180 Q400 260 195 200" fill="none" stroke="none"/>
  </g>
  <text x="340" y="255" fill="#35BFC0" font-family="monospace" font-size="10" font-weight="600">HTTP API</text>

  <!-- Claude to MCP Server (bidirectional MCP) -->
  <g>
    <!-- Forward arrow -->
    <line x1="705" y1="145" x2="645" y2="145" stroke="#E8956A" stroke-width="2" marker-end="url(#arrowhead)"/>
    <!-- Back arrow -->
    <line x1="645" y1="165" x2="705" y2="165" stroke="#A78BFA" stroke-width="2" marker-end="url(#arrowhead)"/>
    <!-- Animated packets -->
    <circle r="4" fill="#E8956A">
      <animate attributeName="cx" values="700;650" dur="1s" repeatCount="indefinite"/>
      <animate attributeName="cy" values="145;145" dur="1s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="1;0" dur="1s" repeatCount="indefinite"/>
    </circle>
    <circle r="4" fill="#A78BFA">
      <animate attributeName="cx" values="650;700" dur="1.2s" repeatCount="indefinite"/>
      <animate attributeName="cy" values="165;165" dur="1.2s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="1;0" dur="1.2s" repeatCount="indefinite"/>
    </circle>
  </g>
  <text x="675" y="130" fill="#E8956A" font-family="monospace" font-size="10" font-weight="600">MCP</text>

  <!-- === LABELS === -->
  <text x="130" y="35" fill="#64748B" font-family="system-ui, sans-serif" font-size="11">Step 1: Generate spec (one-time)</text>
  <text x="520" y="35" fill="#64748B" font-family="system-ui, sans-serif" font-size="11">Step 2: Query analytics with AI</text>

  <!-- Divider -->
  <line x1="450" y1="50" x2="450" y2="280" stroke="#1E293B" stroke-width="2" stroke-dasharray="8,8"/>

  <!-- Tool count badge -->
  <g transform="translate(520, 270)">
    <rect width="100" height="28" rx="14" fill="#1E293B" stroke="#6366F1" stroke-width="1"/>
    <text x="50" y="19" text-anchor="middle" fill="#A78BFA" font-family="monospace" font-size="11" font-weight="600">63+ tools</text>
  </g>
</svg>
